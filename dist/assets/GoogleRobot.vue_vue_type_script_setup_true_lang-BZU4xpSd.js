import{f as y,g as v,j as w,o as _,c as x,G as k,y as S,O as T}from"./index-DdINGt44.js";const b=y({__name:"vueRecaptcha",props:{sitekey:{type:String,required:!0},size:{type:String,required:!1,default:"normal"},theme:{type:String,required:!1,default:"light"},hl:{type:String,required:!1},loadingTimeout:{type:Number,required:!1,default:0}},emits:{verify:r=>r!=null&&r!="",error:r=>r,expire:null,fail:null},setup(r,{expose:l,emit:t}){const e=r,a=v(null);let n=null;l({execute:function(){window.grecaptcha.execute(n)},reset:function(){window.grecaptcha.reset(n)}});function s(){n=window.grecaptcha.render(a.value,{sitekey:e.sitekey,theme:e.theme,size:e.size,callback:c=>t("verify",c),"expired-callback":()=>t("expire"),"error-callback":()=>t("fail")})}return w(()=>{window.grecaptcha==null?new Promise((c,p)=>{let u,o=!1;window.recaptchaReady=function(){o||(o=!0,clearTimeout(u),c())};const f="recaptcha-script",d=g=>()=>{var m;o||(o=!0,clearTimeout(u),(m=document.getElementById(f))==null||m.remove(),p(g))};e.loadingTimeout>0&&(u=setTimeout(d("timeout"),e.loadingTimeout));const h=window.document,i=h.createElement("script");i.id=f,i.onerror=d("error"),i.onabort=d("aborted"),i.setAttribute("src",`https://www.google.com/recaptcha/api.js?onload=recaptchaReady&render=explicit&hl=${e.hl}&_=${+new Date}`),h.head.appendChild(i)}).then(()=>{s()}).catch(c=>{t("error",c)}):s()}),(c,p)=>(_(),x("div",{ref_key:"recaptchaDiv",ref:a},null,512))}}),A=y({__name:"GoogleRobot",emits:["verifySuccess"],setup(r,{emit:l}){const t=v(!1),e=l,a=k({data_v2SiteKey:"6LcFi7QqAAAAAK92dxpI80AT4FqnNsZdh_32vUY4",recaptchaVerified:()=>{t.value=!0,e("verifySuccess",!0)},recaptchaExpired:()=>{t.value=!1,e("verifySuccess",!1)},recaptchaFailed:()=>{t.value=!1,e("verifySuccess",!1)}});return(n,s)=>(_(),S(T(b),{sitekey:a.data_v2SiteKey,size:"normal",theme:"light",hl:"zh-TW",onVerify:a.recaptchaVerified,onExpire:a.recaptchaExpired,onFail:a.recaptchaFailed},null,8,["sitekey","onVerify","onExpire","onFail"]))}});export{A as _};
